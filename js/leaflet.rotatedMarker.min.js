!function(){var proto_initIcon=L.Marker.prototype._initIcon,proto_setPos=L.Marker.prototype._setPos,oldIE="msTransform"===L.DomUtil.TRANSFORM;L.Marker.addInitHook(function(){var iconOptions,iconAnchor=this.options.icon&&this.options.icon.options&&this.options.icon.options.iconAnchor;iconAnchor&&(iconAnchor=iconAnchor[0]+"px "+iconAnchor[1]+"px"),this.options.rotationOrigin=this.options.rotationOrigin||iconAnchor||"center bottom",this.options.rotationAngle=this.options.rotationAngle||0,this.on("drag",function(e){e.target._applyRotation()})}),L.Marker.include({_initIcon:function(){proto_initIcon.call(this)},_setPos:function(pos){proto_setPos.call(this,pos),this._applyRotation()},_applyRotation:function(){this.options.rotationAngle&&(this._icon.style[L.DomUtil.TRANSFORM+"Origin"]=this.options.rotationOrigin,oldIE?this._icon.style[L.DomUtil.TRANSFORM]="rotate("+this.options.rotationAngle+"deg)":this._icon.style[L.DomUtil.TRANSFORM]+=" rotateZ("+this.options.rotationAngle+"deg)")},setRotationAngle:function(angle){return this.options.rotationAngle=angle,this.update(),this},setRotationOrigin:function(origin){return this.options.rotationOrigin=origin,this.update(),this}})}();