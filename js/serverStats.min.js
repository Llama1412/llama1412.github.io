const testDataSource="https://raw.githubusercontent.com/MeltedPixel/meltedpixel.github.io/master/state.json?token=ABI6xMCiE0ENy2KUzCx2wikKHIj1xkc5ks5b2hpiwA%3D%3D",liveDataSource="https://state.hoggitworld.com/",currentDataSource=liveDataSource,refreshTime=1e4;let theater_objectives=["Krasnodar-Center","Anapa-Vityazevo","Novorossiysk","Maykop-Khanskaya","Krymsk","Gelendzhik","Krasnodar-Pashkovsky"],theater_airfields=["Sochi-Adler","Gudauta","Sukhumi-Babushara","Senaki-Kolkhi","Kutaisi","Kobuleti","Batumi","Vaziani","Tbilisi-Lochini","Soganlug","Beslan","Nalchik","Mozdok","Mineralnye Vody"],spawnedBlueMarkers={id:[]},spawnedRedMarkers={id:[]},updateAttempt,serverStats={updateTime:"",uptime:0,startTime:0,realTime:0,players:0,maxPlayers:0,theater:"",serverName:"",missionName:"",weather:{fogEnabled:!1,wind:{at8000:{speed:0,dir:0},at2000:{speed:0,dir:0},atGround:{speed:0,dir:0}},season:{temperature:0},qnh:0,dustDensity:0,dustEnabled:!1,clouds:{thickness:0,density:0,base:0,iprecptns:0},groundTurbulence:0,name:"",fog:{thickness:0,visibility:0},visibility:{distance:0}},airports:[],objects:[]};function setServerStats(data){serverStats.updateTime=data.updateTime,serverStats.uptime=data.uptime,serverStats.startTime=data.start_time,serverStats.realTime=data.realtime,serverStats.players=data.players,serverStats.maxPlayers=data.maxPlayers,serverStats.theater=data.theater,serverStats.serverName=data.serverName,serverStats.missionName=data.missionName,serverStats.weather.fodEnabled=data.wx.enable_fog,serverStats.weather.wind.at8000.speed=data.wx.wind.at8000.speed,serverStats.weather.wind.at8000.dir=data.wx.wind.at8000.dir,serverStats.weather.wind.at2000.speed=data.wx.wind.at2000.speed,serverStats.weather.wind.at2000.dir=data.wx.wind.at2000.dir,serverStats.weather.wind.atGround.speed=data.wx.wind.atGround.speed,serverStats.weather.wind.atGround.dir=data.wx.wind.atGround.dir,serverStats.weather.season.temperature=data.wx.season.temperature,serverStats.weather.qnh=data.wx.qnh,serverStats.weather.dustEnabled=data.wx.enable_dust,serverStats.weather.dustDensity=data.wx.dust_density,serverStats.weather.clouds.thickness=data.wx.clouds.thickness,serverStats.weather.clouds.density=data.wx.clouds.density,serverStats.weather.clouds.base=data.wx.clouds.base,serverStats.weather.clouds.iprecptns=data.wx.clouds.iprecptns,serverStats.weather.groundTurbulence=data.wx.groundTurbulence,serverStats.weather.name=data.wx.name,serverStats.weather.fog.thickness=data.wx.fog.thickness,serverStats.weather.fog.visibility=data.wx.fog.visibility,serverStats.weather.visibility.distance=data.wx.visibility.distance,serverStats.airports=data.airports,serverStats.objects=data.objects}function getServerStats(){$.ajax({type:"GET",url:currentDataSource,dataType:"json",beforeSend:function(){},success:function(data){globalDebug&&console.log("DEBUG - getServerStats() - "+`SUCCESS - Getting stats from ${currentDataSource}`),serverStats.airports=[],serverStats.objects=[],console.log(serverStats.objects),setServerStats(data),setStatusBar(),setTheaterObjectivesLivefeed(),setAircraftLivefeed(),updateAirbaseIcons(serverStats),updateFarpIcons(serverStats),updateBlueAircraftIcons(serverStats),updateRedAircraftIcons(serverStats),updateGroundunitIcons(serverStats)},error:function(data){globalDebug&&console.log("DEBUG - getServerStats() - "+`ERROR - Unable to get current status from ${currentDataSource}`),setTimeout(function(){++updateAttempt>3?(globalDebug&&console.log("DEBUG - getServerStats() - "+`Attempt: ${updateAttempt} of 3`),getServerStats()):globalDebug&&console.log("DEBUG - getServerStats() - ERROR - 3 attempts made to get current status. Lets not spam anymore, please refresh the page to try again")},5e3)}})}setInterval(()=>{getServerStats()},1e4);