const farpMarkersDebug=!1;let farpIconGroup=L.layerGroup(),farpIcon=L.Icon.extend({options:{iconSize:[36,36],iconAnchor:[17,17],popupAnchor:[0,-15]}}),farpIconBlue=new farpIcon({iconUrl:"images/icons/farp-icon-blue.png"}),farpIconRed=new farpIcon({iconUrl:"images/icons/farp-icon-red.png"}),farpIconNeutral=new farpIcon({iconUrl:"images/icons/farp-icon-neutral.png"});function updateFarpIcons(data){for(x in(globalDebug||farpMarkersDebug)&&console.log("DEBUG - updateFarpIcons() - Updating Farp Markers..."),data.objects)if(5===data.objects[x].Type.level1&&13===data.objects[x].Type.level2){var mapIconLat=data.objects[x].LatLongAlt.Lat,mapIconLong=data.objects[x].LatLongAlt.Long,unitType,unitCoalition;5===data.objects[x].Type.level1&&13===data.objects[x].Type.level2?(unitType="FARP",unitCoalition=2===data.objects[x].CoalitionID?"Blue":1===data.objects[x].CoalitionID?"Red":"Neutral"):unitType="Not Defined";var customPopup='<table class="pixel-popup-table"><tr><td><strong>Name:</strong></td><td class="right">Warehouse</td></tr><tr><td><strong>Type:</strong></td><td class="right">'+unitType+'</td></tr><tr><td><strong>Altitude:</strong></td><td class="right">'+Math.trunc(3.28*data.objects[x].LatLongAlt.Alt)+' FT</td></tr></tr><tr><td><strong>Controlled:</strong></td><td class="right">'+unitCoalition+"</td></tr></table>",customOptions={maxWidth:"500",className:"pixel-custom-popup"};if(2===data.objects[x].CoalitionID){let farpMarker=L.marker([mapIconLat,mapIconLong],{icon:farpIconBlue}).bindPopup(customPopup,customOptions);farpMarker._leaflet_id=data.objects[x].id,farpIconGroup.getLayer(data.objects[x].id)?((globalDebug||farpMarkersDebug)&&console.log("DEBUG - updateFarpIcons() - "+`Marker ${data.objects[x].id} already found in airbaseIconGroup - Updating`),farpIconGroup.getLayer(data.objects[x].id)._popup.setContent(customPopup),farpIconGroup.getLayer(data.objects[x].id).setIcon(farpIconBlue)):((globalDebug||farpMarkersDebug)&&console.log("DEBUG - updateFarpIcons() - "+`Marker ${data.objects[x].id} Created - New Icon`),farpIconGroup.addLayer(farpMarker),farpMarker.setZIndexOffset(-2e3),farpMarker.addTo(map))}else if(1===data.objects[x].CoalitionID){let farpMarker=L.marker([mapIconLat,mapIconLong],{icon:farpIconRed}).bindPopup(customPopup,customOptions);farpMarker._leaflet_id=data.objects[x].id,farpIconGroup.getLayer(data.objects[x].id)?((globalDebug||farpMarkersDebug)&&console.log("DEBUG - updateFarpIcons() - "+`Marker ${data.objects[x].id} already found in airbaseIconGroup - Updating`),farpIconGroup.getLayer(data.objects[x].id)._popup.setContent(customPopup),farpIconGroup.getLayer(data.objects[x].id).setIcon(farpIconRed)):((globalDebug||farpMarkersDebug)&&console.log("DEBUG - updateFarpIcons() - "+`Marker ${data.objects[x].id} Created - New Icon`),farpIconGroup.addLayer(farpMarker),farpMarker.setZIndexOffset(-2e3),farpMarker.addTo(map))}else{let farpMarker=L.marker([mapIconLat,mapIconLong],{icon:farpIconNeutral}).bindPopup(customPopup,customOptions);farpMarker._leaflet_id=data.objects[x].id,farpIconGroup.getLayer(data.objects[x].id)?((globalDebug||farpMarkersDebug)&&console.log("DEBUG - updateFarpIcons() - "+`Marker ${data.objects[x].id} already found in airbaseIconGroup - Updating`),farpIconGroup.getLayer(data.objects[x].id)._popup.setContent(customPopup),farpIconGroup.getLayer(data.objects[x].id).setIcon(farpIconNeutral)):((globalDebug||farpMarkersDebug)&&console.log("DEBUG - updateFarpIcons() - "+`Marker ${data.objects[x].id} Created - New Icon`),farpIconGroup.addLayer(farpMarker),farpMarker.setZIndexOffset(-2e3),farpMarker.addTo(map))}}}